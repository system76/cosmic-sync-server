# COSMIC Sync Server - .env.sample

# Environment
ENVIRONMENT=development

# Server
SERVER_HOST=0.0.0.0
GRPC_PORT=50051
WORKER_THREADS=4
AUTH_TOKEN_EXPIRY_HOURS=24
MAX_CONCURRENT_REQUESTS=100
MAX_FILE_SIZE=52428800
HEARTBEAT_INTERVAL_SECS=10

# Database (MySQL)
DB_HOST=localhost
DB_PORT=3306
DB_NAME=cosmic_sync
DB_USER=root
DB_PASS=recognizer
DB_POOL=5
DATABASE_CONNECTION_TIMEOUT=30
DATABASE_LOG_QUERIES=false

# Storage (choose one)
# STORAGE_TYPE=database
# STORAGE_TYPE=s3
STORAGE_TYPE=database
# STORAGE_PATH=/tmp/cosmic-sync

# S3 (if STORAGE_TYPE=s3)
AWS_REGION=us-east-2
AWS_S3_BUCKET=cosmic-sync-files
S3_KEY_PREFIX=files/
# For S3-compatible (e.g., MinIO)
# S3_ENDPOINT_URL=http://localhost:9000
S3_FORCE_PATH_STYLE=true
S3_TIMEOUT_SECONDS=30
S3_MAX_RETRIES=3
# Optional static credentials (IAM role preferred in cloud)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_SESSION_TOKEN=

# Logging
LOG_LEVEL=info
LOG_TO_FILE=true
LOG_FILE=logs/cosmic-sync-server.log
LOG_MAX_FILE_SIZE=10485760
LOG_MAX_BACKUPS=5
LOG_FORMAT=text

# Feature flags
COSMIC_SYNC_DEV_MODE=false
COSMIC_SYNC_TEST_MODE=false
COSMIC_SYNC_DEBUG_MODE=false
ENABLE_METRICS=false
STORAGE_ENCRYPTION=true
REQUEST_VALIDATION=true

# Message broker (RabbitMQ)
RABBITMQ_ENABLED=false
RABBITMQ_URL=amqp://guest:guest@127.0.0.1:5672/%2f
RABBITMQ_EXCHANGE=cosmic.sync
RABBITMQ_QUEUE_PREFIX=cosmic.sync
RABBITMQ_PREFETCH=200
RABBITMQ_DURABLE=true
